<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Edit Employee Details</title>
<link href="#" rel="shortcut icon">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet"	href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />
<link rel="stylesheet"	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.2/css/all.min.css" />
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<link th:href="@{/css/main.css}" rel="stylesheet" />
</head>
<body>
	<div th:include="fragments/header.html :: header"></div>
	<div class="container">
	<!-- start: PAGE HEADER -->
	<div class="row">
		<div class="col-sm-12">
			<!-- start: PAGE TITLE & BREADCRUMB -->
			<ol class="breadcrumb">
				<li class="breadcrumb-item">
					<a th:href="@{/}">
						<i class="fa fa-home"></i>&nbsp;Home
					</a>
				</li>
				<li class="breadcrumb-item active" aria-current="page">
					Edit Employee
				</li>
			</ol>
		</div>
	</div>
		<div class="card">
			<div class="card-header"><h4>Assign Asset</h4></div>
				<div class="card-body">
				 <form th:action="@{/updateassignasset}" method="post">
					<input type="hidden" id="emp_id" name="emp_id" th:value="${emp.emp_id}"/>
					<div class="form-group">
						<label for="emp_name">Employee Name</label>
							<input class="form-control mb-3" type="text" id="emp_name" name="emp_name" th:value="${emp.emp_name}" placeholder="Enter Employee Name" required />
					</div>
					<div class="form-group">
						<label for="emp_email">Email</label> 
							<input class="form-control mb-3" type="email" id="emp_email" name="emp_email" th:value="${emp.emp_email}"placeholder="Enter Email address" required />
					</div>
					<div class="form-group">
						<label for="emp_contact">Contact</label> 
							<input class="form-control mb-3" type="text" id="emp_contact" name="emp_contact" th:value="${emp.emp_contact}" placeholder="Enter contact of the employee" required />
					</div>
					<div class="form-group  mb-3">
						<label for="designation">Designation</label> 
						<select class="form-control mb-3"  id="designation" name="designation" >
						   <option selected disabled>Please Select Designation</option>
							<th:block th:each="dlst : ${desiglist}">
							  	<th:block th:if="${dlst.desig_id}==${emp.designation.desig_id}">
									<option selected th:value="${dlst.desig_id}" th:text="${dlst.desig_name}"></option>
								</th:block>
							<th:block th:unless="${dlst.desig_id}==${emp.designation.desig_id}">
								<option th:value="${dlst.desig_id}" th:text="${dlst.desig_name}"></option>
							</th:block>
						</select>
					</div>
					<div class="form-group">
						<label for="company">Company Name</label> 
							<select class="form-control mb-3" id="company" name="company" onchange="getdeptbycompid(this.value)">
								<option selected disabled>Please Select Company</option>
									<th:block th:each="comp : ${clist}">
									  	<th:block th:if="${comp.comp_id}==${emp.department.company.comp_id}">
									   		<option selected th:value="${comp.comp_id}" th:text="${comp.comp_name}"></option>
										</th:block>
										<th:block th:unless="${comp.comp_id}==${emp.department.company.comp_id}">
									   		<option th:value="${comp.comp_id}" th:text="${comp.comp_name}"></option>
										</th:block>
									</th:block>	
							</select>
					</div>

					<div class="form-group">
						<label for="department ">Department</label> 
							<select class="form-control mb-3" id="department" name="department">
								<option selected disabled>Please Select Department</option>
								<option selected th:value="${emp.department.dept_id}" th:text="${emp.department.dept_name}"></option>
							</select>
					</div>
					
					<th:block th:if="${assignedlist}!=null">
						<div class="form-group">
							<label for="asset_types">Assigned Asset(s) Type</label> 
							 	<input type="text" id="asset_types" name="asset_types" th:value="${atypes}" class="form-control mb-3" readonly disabled="disabled" />
						</div>
						<div class="form-group">
							<label for="asset_names">Assigned Asset(s)</label> 
							 	<input type="text" id="asset_names" name="asset_names" th:value="${assignasset}" class="form-control mb-3" readonly disabled="disabled"/>
						</div>
					</th:block>
			
					<div class="form-group">
						<label for="type_id">Asset Type</label> 
						 	<select class="form-control mb-3" id="type_id" name="type_id" multiple="multiple" >
						 		<th:block th:each="alst : ${atlist}">
									<option th:value="${alst.type_id}" th:text="${alst.type_name}"></option>
								</th:block>
						</select>
					</div>
					
					<th:block th:if="${assignedlist}!=null">
					  <div class="form-group">
						<label for="multi_assets">Assets</label> 
						<select class="form-control mb-3"  id="multi_assets" name="multi_assets" multiple="multiple">
							<th:block th:each="alst : ${aslist}"> <!--  1,2,3,4,5  --> 
										<th:block th:if="${#arrays.contains( assignedlist,alst.asset_id )}">
												<option selected th:value="${alst.asset_id}" th:text="| (${alst.atype.type_name}) ${alst.asset_name} (${alst.asset_number})|"></option>
										</th:block>
										<th:block th:unless="${#arrays.contains(assignedlist,alst.asset_id)}"> 
											<th:block th:if="${alst.quantity}>0">		
												<option  th:value="${alst.asset_id}" th:text="| (${alst.atype.type_name}) ${alst.asset_name} (${alst.asset_number})|"></option> 
											</th:block>
											<th:block th:unless="${alst.quantity}>0">		
												<option  disabled th:value="${alst.asset_id}" th:text="| (${alst.atype.type_name}) ${alst.asset_name} (${alst.asset_number})|"></option> 
											</th:block>
										</th:block>
							</th:block>
						</select>
					  </div>
					</th:block>
					<th:block th:unless="${assignedlist}!=null">
					  <div class="form-group">
						<label for="multi_assets">Assets</label> 
						<select class="form-control mb-3"  id="multi_assets" name="multi_assets" multiple="multiple">
								<th:block th:each="alst : ${aslist}"> 
								   	<th:block th:if="${alst.quantity}>0">
										<option  th:value="${alst.asset_id}" th:text="| (${alst.atype.type_name}) ${alst.asset_name} (${alst.asset_number})|"></option>
									</th:block>
									<th:block th:unless="${alst.quantity}>0">
										<option disabled th:value="${alst.asset_id}" th:text="| (${alst.atype.type_name}) ${alst.asset_name} (${alst.asset_number})|"></option>
									</th:block>
								</th:block>
						</select>
					  </div>
					</th:block>
					<input type="submit" class="btn btn-primary" value="Submit" /> <input type="reset" class="btn btn-primary" value="RESET" />
				   	<input type="hidden" id="base_url" th:value="${session.base_url}"/>
					<input type="hidden" id="appname"  th:value="${session.appname}"/>
				  </form>
				</div>
			</div>
	</div>
<div th:replace="fragments/Footer.html :: footer"></div>
<script th:src="@{/js/employee.js}"></script>
<script	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
<script	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>	
</body>
</html>